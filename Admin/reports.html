<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reports & Analytics - Admin Dashboard</title>
    
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="css/admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
</head>
<body class="admin-body">
    <!-- Sidebar -->
    <aside class="admin-sidebar" id="adminSidebar">
        <div class="sidebar-header">
            <a href="index.html" class="sidebar-logo">
                <i class="fas fa-plane-departure"></i>
                <span>Skybird Admin</span>
            </a>
            <button class="sidebar-toggle" id="sidebarToggle">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <nav class="sidebar-nav">
            <a href="index.html" class="nav-item">
                <i class="fas fa-dashboard"></i>
                <span>Dashboard</span>
            </a>
            <a href="flights.html" class="nav-item">
                <i class="fas fa-plane"></i>
                <span>Flights</span>
            </a>
            <a href="bookings.html" class="nav-item">
                <i class="fas fa-ticket-alt"></i>
                <span>Bookings</span>
            </a>
            <a href="users.html" class="nav-item">
                <i class="fas fa-users"></i>
                <span>Users</span>
            </a>
            <a href="hotels.html" class="nav-item">
                <i class="fas fa-hotel"></i>
                <span>Hotels</span>
            </a>
            <a href="cars.html" class="nav-item">
                <i class="fas fa-car"></i>
                <span>Cars</span>
            </a>
            <a href="payments.html" class="nav-item">
                <i class="fas fa-credit-card"></i>
                <span>Payments</span>
            </a>
            <a href="reports.html" class="nav-item active">
                <i class="fas fa-chart-bar"></i>
                <span>Reports</span>
            </a>
            <a href="settings.html" class="nav-item">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </a>
        </nav>

        <div class="sidebar-footer">
            <a href="#" class="nav-item" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i>
                <span>Logout</span>
            </a>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="admin-main">
        <!-- Header -->
        <header class="admin-header">
            <button class="menu-toggle" id="menuToggle">
                <i class="fas fa-bars"></i>
            </button>

            <div class="admin-header-right">
                <div class="header-icons">
                    <button class="icon-btn">
                        <i class="fas fa-bell"></i>
                        <span class="badge">3</span>
                    </button>
                </div>

                <div class="admin-profile">
                    <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=40" alt="Admin">
                </div>
            </div>
        </header>

        <!-- Page Content -->
        <div class="admin-container">
            <div class="page-header">
                <h1>Reports & Analytics</h1>
                <p>Business performance and insights</p>
            </div>

            <!-- Date Range Filter -->
            <div style="display: flex; gap: 15px; margin-bottom: 30px; align-items: center;">
                <label>Date Range:</label>
                <input type="date" id="startDate" style="padding: 10px; border: 1px solid #e3e6f0; border-radius: 6px;">
                <span>to</span>
                <input type="date" id="endDate" style="padding: 10px; border: 1px solid #e3e6f0; border-radius: 6px;">
                <button class="btn btn-primary" onclick="updateReports()">
                    <i class="fas fa-filter"></i> Filter
                </button>
                <button class="btn btn-outline" onclick="printReports()">
                    <i class="fas fa-print"></i> Print
                </button>
            </div>

            <!-- Charts Grid -->
            <div class="charts-grid" style="margin-bottom: 30px;">
                <div class="chart-card">
                    <div class="card-header">
                        <h3>Monthly Revenue</h3>
                    </div>
                    <div class="card-body">
                        <canvas id="monthlyRevenueChart"></canvas>
                    </div>
                </div>

                <div class="chart-card">
                    <div class="card-header">
                        <h3>Booking Trends</h3>
                    </div>
                    <div class="card-body">
                        <canvas id="bookingTrendsChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- More Charts -->
            <div class="charts-grid" style="margin-bottom: 30px;">
                <div class="chart-card">
                    <div class="card-header">
                        <h3>User Growth</h3>
                    </div>
                    <div class="card-body">
                        <canvas id="userGrowthChart"></canvas>
                    </div>
                </div>

                <div class="chart-card">
                    <div class="card-header">
                        <h3>Payment Methods</h3>
                    </div>
                    <div class="card-body">
                        <canvas id="paymentMethodsChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Report Summary -->
            <div class="data-card">
                <div class="card-header">
                    <h3>Report Summary</h3>
                </div>
                <div class="card-body">
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px;">
                        <div>
                            <h4 style="margin: 0 0 10px 0; color: #666;">Flights</h4>
                            <p style="font-size: 2rem; font-weight: 700; margin: 0;">2,547</p>
                            <p style="color: #10b981; margin: 5px 0 0 0;"><i class="fas fa-arrow-up"></i> 12% from last month</p>
                        </div>

                        <div>
                            <h4 style="margin: 0 0 10px 0; color: #666;">Bookings</h4>
                            <p style="font-size: 2rem; font-weight: 700; margin: 0;">1,824</p>
                            <p style="color: #10b981; margin: 5px 0 0 0;"><i class="fas fa-arrow-up"></i> 8% from last month</p>
                        </div>

                        <div>
                            <h4 style="margin: 0 0 10px 0; color: #666;">Revenue</h4>
                            <p style="font-size: 2rem; font-weight: 700; margin: 0;">$847K</p>
                            <p style="color: #10b981; margin: 5px 0 0 0;"><i class="fas fa-arrow-up"></i> 15% from last month</p>
                        </div>

                        <div>
                            <h4 style="margin: 0 0 10px 0; color: #666;">Customers</h4>
                            <p style="font-size: 2rem; font-weight: 700; margin: 0;">5,632</p>
                            <p style="color: #10b981; margin: 5px 0 0 0;"><i class="fas fa-arrow-up"></i> 10% from last month</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <style>
        .icon-btn {
            background: none;
            border: none;
            font-size: 1.1rem;
            cursor: pointer;
            color: #0066cc;
            transition: color 0.3s ease;
        }

        .icon-btn:hover {
            color: #ff6b35;
        }
    </style>

    <script src="js/admin.js"></script>
    <script>
        // Monthly Revenue Chart
        new Chart(document.getElementById('monthlyRevenueChart'), {
            type: 'bar',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],
                datasets: [{
                    label: 'Revenue ($)',
                    data: [65000, 72000, 68000, 85000, 92000, 88000, 95000, 102000, 98000, 107000],
                    backgroundColor: '#0066cc',
                    borderRadius: 6
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        ticks: {
                            callback: function(value) {
                                return '$' + value/1000 + 'k';
                            }
                        }
                    }
                }
            }
        });

        // Booking Trends Chart
        new Chart(document.getElementById('bookingTrendsChart'), {
            type: 'line',
            data: {
                labels: ['Week 1', 'Week 2', 'Week 3', 'Week 4', 'Week 5'],
                datasets: [{
                    label: 'Bookings',
                    data: [420, 380, 450, 520, 480],
                    borderColor: '#ff6b35',
                    backgroundColor: 'rgba(255, 107, 53, 0.1)',
                    tension: 0.4,
                    fill: true,
                    pointRadius: 6,
                    pointBackgroundColor: '#ff6b35'
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });

        // User Growth Chart
        new Chart(document.getElementById('userGrowthChart'), {
            type: 'line',
            data: {
                labels: ['Month 1', 'Month 2', 'Month 3', 'Month 4', 'Month 5', 'Month 6'],
                datasets: [{
                    label: 'New Users',
                    data: [450, 520, 580, 620, 710, 850],
                    borderColor: '#10b981',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    tension: 0.4,
                    fill: true,
                    pointRadius: 5,
                    pointBackgroundColor: '#10b981'
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });

        // Payment Methods Chart
        new Chart(document.getElementById('paymentMethodsChart'), {
            type: 'doughnut',
            data: {
                labels: ['Credit Card', 'PayPal', 'Debit Card', 'Bank Transfer'],
                datasets: [{
                    data: [45, 30, 15, 10],
                    backgroundColor: ['#0066cc', '#10b981', '#ff6b35', '#f59e0b'],
                    borderColor: 'white',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom'
                    }
                }
            }
        });

        function updateReports() {
            alert('Reports updated!');
        }

        function printReports() {
            window.print();
        }

        // Set default date range
        const today = new Date();
        const lastMonth = new Date(today.getTime() - 30 * 24 * 60 * 60 * 1000);

        document.getElementById('startDate').valueAsDate = lastMonth;
        document.getElementById('endDate').valueAsDate = today;
    </script>
</body>
</html>